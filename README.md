# mime-email

constructs a MIME-formatted email message from command-line options and an optional body file.

The resulting message is written to standard output.

This command is written as a BASH script.

## Example

```sh
echo "hello mime-email" \
    | mime-email \
         --from "me@example.com" \
         --to "John Smith a@example.com" \
         --to "b@example.com" \
         --subject "test mail" \
         --attach README.md \
    | msmtp -v -t
```

## Description

`mime-email` generates a MIME email message from command line options and an optional body file, and prints it to stdout.

## Address format

`--from`, `--to`, `--cc`, and `--bcc` accept either a plain email address or a display name followed by an email address.

Examples:

```
--from "user@example.com"
--from "John user@example.com"
--from "John Smith user@example.com"
```

If the argument consists of multiple space-separated words, the last word is interpreted as the email address and the preceding words as the display name.
The script automatically encodes the display name and formats the header as:

```
Display Name <address@example.com>
```

## Attachments

Files specified with `--attach` will be included as MIME attachments. The script determines their MIME types using `file` and encodes them with `base64`.

## Subject

The subject is specified with `--subject`. It will be encoded when necessary.

## Date

If not provided, the `Date` header is generated by the system.

## License

MIT License.

## Appendix

### install msmtp (reference)

```sh
sudo dnf install epel-release
sudo dnf install msmtp
touch ~/.msmtprc
chmod 600 ~/.msmtprc
```


#### write in `~/.msmtprc`

```msmtprc
account default
host mail.example.com
port 465
auth on
from me@example.com
user me
password MyPassword123
tls on
tls_starttls off
tls_trust_file /etc/ssl/certs/ca-bundle.crt
```

